
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/SocketProvider.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '04045eoOP5HZaxEvt4Slsa0', 'SocketProvider');
// scripts/SocketProvider.js

"use strict";

// Learn cc.Class:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html
//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html
var pp = require("acdata1").AcWar;

cc.Class({
  "extends": cc.Component,
  properties: {},
  // LIFE-CYCLE CALLBACKS:
  // onLoad () {},
  // start () {},
  getRandomCharName: function getRandomCharName() {
    var aphabets = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
    var nick = "";

    for (var i = 0; i < 6; i++) {
      nick += aphabets[Math.floor(Math.random() * aphabets.length)];
    }

    return nick;
  },
  setGameStart: function setGameStart(roomId) {
    //this.gameStartTime = Date.now();
    this.roomId = roomId;
    console.log("my room:" + this.roomId);
    this.node.getChildByName("putWait").active = false;
    this.node.getChildByName("word3").active = true;
  },
  setGameStartTime: function setGameStartTime() {
    this.gameStartTime = Date.now();
  },
  socketHandle: function socketHandle(nick) {
    var _parent = this;

    this.gameTraceStack = []; //MY_SOCKET = window.io.connect('ws://118.25.231.17:4003');
    //MY_SOCKET = window.io.connect('wss://www.asobee.mobi:443');
    //MY_SOCKET = window.io.connect('ws://192.168.1.10:4003');

    MY_SOCKET = window.io.connect('ws://35.77.248.155:10087'); //console.log('check 1', MY_SOCKET.connected);

    MY_SOCKET.on('connect_error', function () {
      console.log('Connection Failed');

      if (!_parent.netErrDisp) {
        _parent.syncTimeout();

        _parent.setConnFailInfo();

        _parent.node.getChildByName("putWait").active = true;
      }
    });
    MY_SOCKET.on('connected', function (data) {
      MY_SOCKET.heartbeatTimeout = 5000;
      MY_SOCKET.json.emit('init', {
        'name': nick,
        'nick': nick,
        'img': '',
        'roomId': ''
      });
    });
    MY_SOCKET.on('disconnect', function (data) {
      console.log("disconnect to server");

      _parent.syncTimeout(); //_parent.resultOp.show();


      _parent.setConnFailInfo();

      _parent.node.getChildByName("putWait").active = true;
    });
    MY_SOCKET.on('otherlogin', function (data) {
      if (_parent.mainPlayer == -1) {
        _parent.mainPlayer = data.userData.length;
      } // 2 players means game start.


      if (data.userData.length == 2) {
        _parent.setGameStart(data.roomId);
      }
    });
    MY_SOCKET.on('heart', function (data) {
      var cdVal = parseInt(data.counter);

      _parent.setTimeCounter(cdVal);
    });
    MY_SOCKET.on('buff', function (data) {
      console.log("----buff data----");
      console.log(data);
      var buff = data;

      if (_parent.mainPlayer == 2) {
        buff = _parent.mirrorBuffData(data);
      }

      _parent.createBuff(buff);
    });
    MY_SOCKET.on('end', function (data) {
      console.log(data);
      console.log(_parent.mainPlayer);

      _parent.gameOverProcessor(_parent.mainPlayer, data);

      _parent.resultOp.setResultValue(_parent.mainPlayer, data);

      _parent.resultOp.show();
    });
    MY_SOCKET.on('proto', function (data) {
      var udata = new Uint8Array(data);
      var message = pp.Info.decode(udata);
      var base = message.base;

      for (var i = 0; i < message.base.length; i++) {
        message.base[i].mypos = {};
        message.base[i].enemypos = {};
        message.base[i].targetpos = {};
        message.base[i].mypos.x = message.base[i].mpx;
        message.base[i].mypos.y = message.base[i].mpy;
        message.base[i].enemypos.x = message.base[i].epx;
        message.base[i].enemypos.y = message.base[i].epy;
        message.base[i].targetpos.x = message.base[i].tpx;
        message.base[i].targetpos.y = message.base[i].tpy;
      }

      for (var i = 0; i < message.fort.length; i++) {
        message.fort[i].mypos = {};
        message.fort[i].enemypos = {};
        message.fort[i].targetpos = {};
        message.fort[i].mypos.x = message.fort[i].mpx;
        message.fort[i].mypos.y = message.fort[i].mpy;
        message.fort[i].enemypos.x = message.fort[i].epx;
        message.fort[i].enemypos.y = message.fort[i].epy;
        message.fort[i].targetpos.x = message.fort[i].tpx;
        message.fort[i].targetpos.y = message.fort[i].tpy;
      }

      for (var i = 0; i < message.agent.length; i++) {
        message.agent[i].mypos = {};
        message.agent[i].enemypos = {};
        message.agent[i].targetpos = {};
        message.agent[i].mypos.x = message.agent[i].mpx;
        message.agent[i].mypos.y = message.agent[i].mpy;
        message.agent[i].enemypos.x = message.agent[i].epx;
        message.agent[i].enemypos.y = message.agent[i].epy;
        message.agent[i].targetpos.x = message.agent[i].tpx;
        message.agent[i].targetpos.y = message.agent[i].tpy;
      }

      for (var i = 0; i < message.bullet.length; i++) {
        message.bullet[i].mypos = {};
        message.bullet[i].enemypos = {};
        message.bullet[i].targetpos = {};
        message.bullet[i].mypos.x = message.bullet[i].mpx;
        message.bullet[i].mypos.y = message.bullet[i].mpy;
        message.bullet[i].enemypos.x = message.bullet[i].epx;
        message.bullet[i].enemypos.y = message.bullet[i].epy;
        message.bullet[i].targetpos.x = message.bullet[i].tpx;
        message.bullet[i].targetpos.y = message.bullet[i].tpy;
      }

      for (var i = 0; i < message.rollLog.length; i++) {
        message.rollLog[i].mypos = {};
        message.rollLog[i].enemypos = {};
        message.rollLog[i].targetpos = {};
        message.rollLog[i].mypos.x = message.rollLog[i].mpx;
        message.rollLog[i].mypos.y = message.rollLog[i].mpy;
        message.rollLog[i].enemypos.x = message.rollLog[i].epx;
        message.rollLog[i].enemypos.y = message.rollLog[i].epy;
        message.rollLog[i].targetpos.x = message.rollLog[i].tpx;
        message.rollLog[i].targetpos.y = message.rollLog[i].tpy;
      }

      var traceData = {};
      var agents = message.agent;
      var bases = message.base;
      var forts = message.fort;
      var bullets = message.bullet;
      var rollLogs = message.rollLog;

      if (_parent.mainPlayer == 2) {
        agents = _parent.mirrorAgentsData(agents);
        bullets = _parent.mirrorAgentsData(bullets);
        bases = _parent.mirrorBasesData(bases);
        forts = _parent.mirrorAgentsData(forts);
        rollLogs = _parent.mirrorAgentsData(rollLogs);
      }

      traceData.agents = agents;
      traceData.bullets = bullets;
      traceData.bases = bases;
      traceData.forts = forts;
      traceData.rollLogs = rollLogs;

      _parent.gameTraceStack.push(traceData);

      if (_parent.gameTraceStack.length > _parent.bufferLen) {
        data = _parent.gameTraceStack[0];

        _parent.createAgents(data.agents);

        _parent.createBullets(data.bullets);

        _parent.createBases(data.bases);

        _parent.createForts(data.forts);

        _parent.createLogs(data.rollLogs); //_parent.setAgentsDir(agents);

      }
    });
    /*
            MY_SOCKET.on('agent', function (data) {
    //            console.log("--------agent---------");
                var traceData = {};
                var agents = data.agents;
                var bases = data.bases;
                var forts = data.forts;
                var bullets = data.bullets;
                var rollLogs = data.rollLogs;
    
                if(_parent.mainPlayer == 2) {
                    agents = _parent.mirrorAgentsData(agents);
                    bullets = _parent.mirrorAgentsData(bullets);
                    bases = _parent.mirrorBasesData(bases);
                    forts = _parent.mirrorAgentsData(forts);
                    rollLogs = _parent.mirrorAgentsData(rollLogs);
                }
    
                traceData.agents = agents;
                traceData.bullets = bullets;
                traceData.bases = bases;
                traceData.forts = forts;
                traceData.rollLogs = rollLogs;
    
                _parent.gameTraceStack.push(traceData);
    
                if(_parent.gameTraceStack.length > _parent.bufferLen) {
                    data = _parent.gameTraceStack[0];
                    _parent.createAgents(data.agents);
                    _parent.createBullets(data.bullets);
                    _parent.createBases(data.bases);
                    _parent.createForts(data.forts);
                    _parent.createLogs(data.rollLogs);
                    //_parent.setAgentsDir(agents);
                }
            });
    */

    this.startTraceTimer();
  },
  mirrorAgentsData: function mirrorAgentsData(agents) {
    var gwidth = this.node.width / 30;
    var gheight = this.node.height / 30;

    for (var i = agents.length - 1; i >= 0; i--) {
      agents[i].mypos.x = gwidth - agents[i].mypos.x;
      agents[i].mypos.y = gheight - agents[i].mypos.y;

      if (agents[i].enemypos) {
        agents[i].enemypos.x = gwidth - agents[i].enemypos.x;
        agents[i].enemypos.y = gheight - agents[i].enemypos.y;
      } //for firebomb those which has no specific enmeies, just a target location.


      if (agents[i].targetpos) {
        agents[i].targetpos.x = gwidth - agents[i].targetpos.x;
        agents[i].targetpos.y = gheight - agents[i].targetpos.y;
      } //agents[i].rot += 180;

    }

    ;
    return agents;
  },
  mirrorBuffData: function mirrorBuffData(buff) {
    var gwidth = this.node.width / 30;
    var gheight = this.node.height / 30;
    buff.mypos.x = gwidth - buff.mypos.x;
    buff.mypos.y = gheight - buff.mypos.y;
    return buff;
  },
  mirrorBasesData: function mirrorBasesData(bases) {
    var gwidth = this.node.width / 30;
    var gheight = this.node.height / 30;

    for (var i = bases.length - 1; i >= 0; i--) {
      if (bases[i].objectId == 1) {
        bases[i].objectId = 4;
      } else if (bases[i].objectId == 2) {
        bases[i].objectId = 6;
      } else if (bases[i].objectId == 3) {
        bases[i].objectId = 5;
      } else if (bases[i].objectId == 4) {
        bases[i].objectId = 1;
      } else if (bases[i].objectId == 6) {
        bases[i].objectId = 2;
      } else if (bases[i].objectId == 5) {
        bases[i].objectId = 3;
      } //in mirror mode, x, y should be ajusted.


      bases[i].mypos.x = gwidth - bases[i].mypos.x - 1;
      bases[i].mypos.y = gheight - bases[i].mypos.y;

      if (bases[i].enemypos) {
        bases[i].enemypos.x = gwidth - bases[i].enemypos.x - 1;
        bases[i].enemypos.y = gheight - bases[i].enemypos.y;
      } //for firebomb those which has no specific enmeies, just a target location.


      if (bases[i].targetpos) {
        bases[i].targetpos.x = gwidth - bases[i].targetpos.x - 1;
        bases[i].targetpos.y = gheight - bases[i].targetpos.y;
      }
    }

    ;
    return bases;
  },
  disconnectServer: function disconnectServer() {
    MY_SOCKET.disconnect();
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL1NvY2tldFByb3ZpZGVyLmpzIl0sIm5hbWVzIjpbInBwIiwicmVxdWlyZSIsIkFjV2FyIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJnZXRSYW5kb21DaGFyTmFtZSIsImFwaGFiZXRzIiwibmljayIsImkiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJzZXRHYW1lU3RhcnQiLCJyb29tSWQiLCJjb25zb2xlIiwibG9nIiwibm9kZSIsImdldENoaWxkQnlOYW1lIiwiYWN0aXZlIiwic2V0R2FtZVN0YXJ0VGltZSIsImdhbWVTdGFydFRpbWUiLCJEYXRlIiwibm93Iiwic29ja2V0SGFuZGxlIiwiX3BhcmVudCIsImdhbWVUcmFjZVN0YWNrIiwiTVlfU09DS0VUIiwid2luZG93IiwiaW8iLCJjb25uZWN0Iiwib24iLCJuZXRFcnJEaXNwIiwic3luY1RpbWVvdXQiLCJzZXRDb25uRmFpbEluZm8iLCJkYXRhIiwiaGVhcnRiZWF0VGltZW91dCIsImpzb24iLCJlbWl0IiwibWFpblBsYXllciIsInVzZXJEYXRhIiwiY2RWYWwiLCJwYXJzZUludCIsImNvdW50ZXIiLCJzZXRUaW1lQ291bnRlciIsImJ1ZmYiLCJtaXJyb3JCdWZmRGF0YSIsImNyZWF0ZUJ1ZmYiLCJnYW1lT3ZlclByb2Nlc3NvciIsInJlc3VsdE9wIiwic2V0UmVzdWx0VmFsdWUiLCJzaG93IiwidWRhdGEiLCJVaW50OEFycmF5IiwibWVzc2FnZSIsIkluZm8iLCJkZWNvZGUiLCJiYXNlIiwibXlwb3MiLCJlbmVteXBvcyIsInRhcmdldHBvcyIsIngiLCJtcHgiLCJ5IiwibXB5IiwiZXB4IiwiZXB5IiwidHB4IiwidHB5IiwiZm9ydCIsImFnZW50IiwiYnVsbGV0Iiwicm9sbExvZyIsInRyYWNlRGF0YSIsImFnZW50cyIsImJhc2VzIiwiZm9ydHMiLCJidWxsZXRzIiwicm9sbExvZ3MiLCJtaXJyb3JBZ2VudHNEYXRhIiwibWlycm9yQmFzZXNEYXRhIiwicHVzaCIsImJ1ZmZlckxlbiIsImNyZWF0ZUFnZW50cyIsImNyZWF0ZUJ1bGxldHMiLCJjcmVhdGVCYXNlcyIsImNyZWF0ZUZvcnRzIiwiY3JlYXRlTG9ncyIsInN0YXJ0VHJhY2VUaW1lciIsImd3aWR0aCIsIndpZHRoIiwiZ2hlaWdodCIsImhlaWdodCIsIm9iamVjdElkIiwiZGlzY29ubmVjdFNlcnZlciIsImRpc2Nvbm5lY3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsSUFBSUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CQyxLQUE1Qjs7QUFFQUMsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFLEVBSFA7QUFNTDtBQUVBO0FBRUE7QUFFQUMsRUFBQUEsaUJBQWlCLEVBQUUsNkJBQVc7QUFDMUIsUUFBSUMsUUFBUSxHQUFFLENBQUMsR0FBRCxFQUFLLEdBQUwsRUFBUyxHQUFULEVBQWEsR0FBYixFQUFpQixHQUFqQixFQUFxQixHQUFyQixFQUF5QixHQUF6QixFQUE2QixHQUE3QixFQUFpQyxHQUFqQyxFQUFxQyxHQUFyQyxFQUF5QyxHQUF6QyxFQUE2QyxHQUE3QyxFQUFpRCxHQUFqRCxFQUFxRCxHQUFyRCxFQUF5RCxHQUF6RCxFQUE2RCxHQUE3RCxFQUFpRSxHQUFqRSxFQUFxRSxHQUFyRSxFQUF5RSxHQUF6RSxFQUE2RSxHQUE3RSxFQUFpRixHQUFqRixFQUFxRixHQUFyRixFQUF5RixHQUF6RixFQUE2RixHQUE3RixFQUFpRyxHQUFqRyxFQUFxRyxHQUFyRyxDQUFkO0FBQ0EsUUFBSUMsSUFBSSxHQUFHLEVBQVg7O0FBQ0EsU0FBSSxJQUFJQyxDQUFDLEdBQUMsQ0FBVixFQUFZQSxDQUFDLEdBQUMsQ0FBZCxFQUFnQkEsQ0FBQyxFQUFqQixFQUFxQjtBQUNqQkQs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QUFELENBQUwsQ0FBU29ELFNBQVosRUFBdUI7QUFDbkJlLFFBQUFBLEtBQUssQ0FBQ25FLENBQUQsQ0FBTCxDQUFTb0QsU0FBVCxDQUFtQkMsQ0FBbkIsR0FBdUI0QixNQUFNLEdBQUdkLEtBQUssQ0FBQ25FLENBQUQsQ0FBTCxDQUFTb0QsU0FBVCxDQUFtQkMsQ0FBNUIsR0FBOEIsQ0FBckQ7QUFDQWMsUUFBQUEsS0FBSyxDQUFDbkUsQ0FBRCxDQUFMLENBQVNvRCxTQUFULENBQW1CRyxDQUFuQixHQUF1QjRCLE9BQU8sR0FBR2hCLEtBQUssQ0FBQ25FLENBQUQsQ0FBTCxDQUFTb0QsU0FBVCxDQUFtQkcsQ0FBcEQ7QUFDSDtBQUNKOztBQUFBO0FBQ0QsV0FBT1ksS0FBUDtBQUNILEdBalVJO0FBbVVMbUIsRUFBQUEsZ0JBQWdCLEVBQUMsNEJBQVc7QUFDeEJuRSxJQUFBQSxTQUFTLENBQUNvRSxVQUFWO0FBQ0g7QUFyVUksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gY2MuQ2xhc3M6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9jbGFzcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9lbi9zY3JpcHRpbmcvY2xhc3MuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxudmFyIHBwID0gcmVxdWlyZShcImFjZGF0YTFcIikuQWNXYXI7XG5cbmNjLkNsYXNzKHtcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXG5cbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgfSxcblxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxuXG4gICAgLy8gb25Mb2FkICgpIHt9LFxuXG4gICAgLy8gc3RhcnQgKCkge30sXG5cbiAgICBnZXRSYW5kb21DaGFyTmFtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcGhhYmV0cyA9W1wiYVwiLFwiYlwiLFwiY1wiLFwiZFwiLFwiZVwiLFwiZlwiLFwiZ1wiLFwiaFwiLFwiaVwiLFwialwiLFwia1wiLFwibFwiLFwibVwiLFwiblwiLFwib1wiLFwicFwiLFwicVwiLFwiclwiLFwic1wiLFwidFwiLFwidVwiLFwidlwiLFwid1wiLFwieFwiLFwieVwiLFwielwiXTtcbiAgICAgICAgdmFyIG5pY2sgPSBcIlwiO1xuICAgICAgICBmb3IodmFyIGk9MDtpPDY7aSsrKSB7XG4gICAgICAgICAgICBuaWNrICs9IGFwaGFiZXRzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSphcGhhYmV0cy5sZW5ndGgpXTtcbiAgICAgICAgfSBcbiAgICAgICAgcmV0dXJuIG5pY2s7XG4gICAgfSxcblxuICAgIHNldEdhbWVTdGFydDpmdW5jdGlvbihyb29tSWQpIHtcbiAgICAgICAgLy90aGlzLmdhbWVTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLnJvb21JZCA9IHJvb21JZDtcbiAgICAgICAgY29uc29sZS5sb2coXCJteSByb29tOlwiICsgdGhpcy5yb29tSWQpO1xuXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInB1dFdhaXRcIikuYWN0aXZlPWZhbHNlO1xuICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ3b3JkM1wiKS5hY3RpdmU9dHJ1ZTtcbiAgICB9LFxuXG4gICAgc2V0R2FtZVN0YXJ0VGltZTpmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5nYW1lU3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB9LFxuXG4gICAgc29ja2V0SGFuZGxlOmZ1bmN0aW9uKG5pY2spIHtcbiAgICAgICAgdmFyIF9wYXJlbnQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuZ2FtZVRyYWNlU3RhY2sgPSBbXTtcblxuICAgICAgICAvL01ZX1NPQ0tFVCA9IHdpbmRvdy5pby5jb25uZWN0KCd3czovLzExOC4yNS4yMzEuMTc6NDAwMycpO1xuICAgICAgICAvL01ZX1NPQ0tFVCA9IHdpbmRvdy5pby5jb25uZWN0KCd3c3M6Ly93d3cuYXNvYmVlLm1vYmk6NDQzJyk7XG4gICAgICAgIC8vTVlfU09DS0VUID0gd2luZG93LmlvLmNvbm5lY3QoJ3dzOi8vMTkyLjE2OC4xLjEwOjQwMDMnKTtcbiAgICAgICAgTVlfU09DS0VUID0gd2luZG93LmlvLmNvbm5lY3QoJ3dzOi8vMzUuNzcuMjQ4LjE1NToxMDA4NycpO1xuXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2NoZWNrIDEnLCBNWV9TT0NLRVQuY29ubmVjdGVkKTtcbiAgICAgICAgTVlfU09DS0VULm9uKCdjb25uZWN0X2Vycm9yJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIEZhaWxlZCcpO1xuICAgICAgICAgICAgaWYoIV9wYXJlbnQubmV0RXJyRGlzcCkge1xuICAgICAgICAgICAgICAgIF9wYXJlbnQuc3luY1RpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICBfcGFyZW50LnNldENvbm5GYWlsSW5mbygpO1xuICAgICAgICAgICAgICAgIF9wYXJlbnQubm9kZS5nZXRDaGlsZEJ5TmFtZShcInB1dFdhaXRcIikuYWN0aXZlPXRydWU7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBNWV9TT0NLRVQub24oJ2Nvbm5lY3RlZCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIE1ZX1NPQ0tFVC5oZWFydGJlYXRUaW1lb3V0ID0gNTAwMDtcbiAgICAgICAgICAgIE1ZX1NPQ0tFVC5qc29uLmVtaXQoJ2luaXQnLCB7J25hbWUnOiBuaWNrLCAnbmljayc6IG5pY2ssICdpbWcnOicnLCAncm9vbUlkJzogJyd9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgTVlfU09DS0VULm9uKCdkaXNjb25uZWN0JywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkaXNjb25uZWN0IHRvIHNlcnZlclwiKTtcbiAgICAgICAgICAgIF9wYXJlbnQuc3luY1RpbWVvdXQoKTtcbiAgICAgICAgICAgIC8vX3BhcmVudC5yZXN1bHRPcC5zaG93KCk7XG4gICAgICAgICAgICBfcGFyZW50LnNldENvbm5GYWlsSW5mbygpO1xuICAgICAgICAgICAgX3BhcmVudC5ub2RlLmdldENoaWxkQnlOYW1lKFwicHV0V2FpdFwiKS5hY3RpdmU9dHJ1ZTsgICAgIFxuICAgICAgICB9KTtcblxuICAgICAgICBNWV9TT0NLRVQub24oJ290aGVybG9naW4nLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYoX3BhcmVudC5tYWluUGxheWVyID09IC0xKSB7XG4gICAgICAgICAgICAgICAgX3BhcmVudC5tYWluUGxheWVyID0gZGF0YS51c2VyRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDIgcGxheWVycyBtZWFucyBnYW1lIHN0YXJ0LlxuICAgICAgICAgICAgaWYoZGF0YS51c2VyRGF0YS5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgICAgIF9wYXJlbnQuc2V0R2FtZVN0YXJ0KGRhdGEucm9vbUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgTVlfU09DS0VULm9uKCdoZWFydCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgY2RWYWwgPSBwYXJzZUludChkYXRhLmNvdW50ZXIpO1xuICAgICAgICAgICAgX3BhcmVudC5zZXRUaW1lQ291bnRlcihjZFZhbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIE1ZX1NPQ0tFVC5vbignYnVmZicsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS1idWZmIGRhdGEtLS0tXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICB2YXIgYnVmZiA9IGRhdGE7XG4gICAgICAgICAgICBpZihfcGFyZW50Lm1haW5QbGF5ZXIgPT0gMikge1xuICAgICAgICAgICAgICAgIGJ1ZmYgPSBfcGFyZW50Lm1pcnJvckJ1ZmZEYXRhKGRhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfcGFyZW50LmNyZWF0ZUJ1ZmYoYnVmZik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIE1ZX1NPQ0tFVC5vbignZW5kJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coX3BhcmVudC5tYWluUGxheWVyKTtcbiAgICAgICAgICAgIF9wYXJlbnQuZ2FtZU92ZXJQcm9jZXNzb3IoX3BhcmVudC5tYWluUGxheWVyLCBkYXRhKTtcbiAgICAgICAgICAgIF9wYXJlbnQucmVzdWx0T3Auc2V0UmVzdWx0VmFsdWUoX3BhcmVudC5tYWluUGxheWVyLCBkYXRhKTtcbiAgICAgICAgICAgIF9wYXJlbnQucmVzdWx0T3Auc2hvdygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBNWV9TT0NLRVQub24oJ3Byb3RvJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgbGV0IHVkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IHBwLkluZm8uZGVjb2RlKHVkYXRhKTtcbiAgICAgICAgICAgIHZhciBiYXNlID0gbWVzc2FnZS5iYXNlO1xuXG4gICAgICAgICAgICBmb3IodmFyIGk9MDtpPG1lc3NhZ2UuYmFzZS5sZW5ndGg7aSsrKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5iYXNlW2ldLm15cG9zID0ge307XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5iYXNlW2ldLmVuZW15cG9zID0ge307XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5iYXNlW2ldLnRhcmdldHBvcyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5iYXNlW2ldLm15cG9zLnggPSBtZXNzYWdlLmJhc2VbaV0ubXB4O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmFzZVtpXS5teXBvcy55ID0gbWVzc2FnZS5iYXNlW2ldLm1weTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmJhc2VbaV0uZW5lbXlwb3MueCA9IG1lc3NhZ2UuYmFzZVtpXS5lcHg7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5iYXNlW2ldLmVuZW15cG9zLnkgPSBtZXNzYWdlLmJhc2VbaV0uZXB5O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmFzZVtpXS50YXJnZXRwb3MueCA9IG1lc3NhZ2UuYmFzZVtpXS50cHg7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5iYXNlW2ldLnRhcmdldHBvcy55ID0gbWVzc2FnZS5iYXNlW2ldLnRweTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxtZXNzYWdlLmZvcnQubGVuZ3RoO2krKykge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9ydFtpXS5teXBvcyA9IHt9O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9ydFtpXS5lbmVteXBvcyA9IHt9O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9ydFtpXS50YXJnZXRwb3MgPSB7fTtcblxuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9ydFtpXS5teXBvcy54ID0gbWVzc2FnZS5mb3J0W2ldLm1weDtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmZvcnRbaV0ubXlwb3MueSA9IG1lc3NhZ2UuZm9ydFtpXS5tcHk7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5mb3J0W2ldLmVuZW15cG9zLnggPSBtZXNzYWdlLmZvcnRbaV0uZXB4O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9ydFtpXS5lbmVteXBvcy55ID0gbWVzc2FnZS5mb3J0W2ldLmVweTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmZvcnRbaV0udGFyZ2V0cG9zLnggPSBtZXNzYWdlLmZvcnRbaV0udHB4O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9ydFtpXS50YXJnZXRwb3MueSA9IG1lc3NhZ2UuZm9ydFtpXS50cHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8bWVzc2FnZS5hZ2VudC5sZW5ndGg7aSsrKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZ2VudFtpXS5teXBvcyA9IHt9O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWdlbnRbaV0uZW5lbXlwb3MgPSB7fTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmFnZW50W2ldLnRhcmdldHBvcyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZ2VudFtpXS5teXBvcy54ID0gbWVzc2FnZS5hZ2VudFtpXS5tcHg7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZ2VudFtpXS5teXBvcy55ID0gbWVzc2FnZS5hZ2VudFtpXS5tcHk7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZ2VudFtpXS5lbmVteXBvcy54ID0gbWVzc2FnZS5hZ2VudFtpXS5lcHg7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZ2VudFtpXS5lbmVteXBvcy55ID0gbWVzc2FnZS5hZ2VudFtpXS5lcHk7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5hZ2VudFtpXS50YXJnZXRwb3MueCA9IG1lc3NhZ2UuYWdlbnRbaV0udHB4O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWdlbnRbaV0udGFyZ2V0cG9zLnkgPSBtZXNzYWdlLmFnZW50W2ldLnRweTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxtZXNzYWdlLmJ1bGxldC5sZW5ndGg7aSsrKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5idWxsZXRbaV0ubXlwb3MgPSB7fTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1bGxldFtpXS5lbmVteXBvcyA9IHt9O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYnVsbGV0W2ldLnRhcmdldHBvcyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5idWxsZXRbaV0ubXlwb3MueCA9IG1lc3NhZ2UuYnVsbGV0W2ldLm1weDtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1bGxldFtpXS5teXBvcy55ID0gbWVzc2FnZS5idWxsZXRbaV0ubXB5O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYnVsbGV0W2ldLmVuZW15cG9zLnggPSBtZXNzYWdlLmJ1bGxldFtpXS5lcHg7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5idWxsZXRbaV0uZW5lbXlwb3MueSA9IG1lc3NhZ2UuYnVsbGV0W2ldLmVweTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1bGxldFtpXS50YXJnZXRwb3MueCA9IG1lc3NhZ2UuYnVsbGV0W2ldLnRweDtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1bGxldFtpXS50YXJnZXRwb3MueSA9IG1lc3NhZ2UuYnVsbGV0W2ldLnRweTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxtZXNzYWdlLnJvbGxMb2cubGVuZ3RoO2krKykge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sbExvZ1tpXS5teXBvcyA9IHt9O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sbExvZ1tpXS5lbmVteXBvcyA9IHt9O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sbExvZ1tpXS50YXJnZXRwb3MgPSB7fTtcblxuICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sbExvZ1tpXS5teXBvcy54ID0gbWVzc2FnZS5yb2xsTG9nW2ldLm1weDtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnJvbGxMb2dbaV0ubXlwb3MueSA9IG1lc3NhZ2Uucm9sbExvZ1tpXS5tcHk7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5yb2xsTG9nW2ldLmVuZW15cG9zLnggPSBtZXNzYWdlLnJvbGxMb2dbaV0uZXB4O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sbExvZ1tpXS5lbmVteXBvcy55ID0gbWVzc2FnZS5yb2xsTG9nW2ldLmVweTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnJvbGxMb2dbaV0udGFyZ2V0cG9zLnggPSBtZXNzYWdlLnJvbGxMb2dbaV0udHB4O1xuICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm9sbExvZ1tpXS50YXJnZXRwb3MueSA9IG1lc3NhZ2Uucm9sbExvZ1tpXS50cHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0cmFjZURhdGEgPSB7fTtcbiAgICAgICAgICAgIHZhciBhZ2VudHMgPSBtZXNzYWdlLmFnZW50O1xuICAgICAgICAgICAgdmFyIGJhc2VzID0gbWVzc2FnZS5iYXNlO1xuICAgICAgICAgICAgdmFyIGZvcnRzID0gbWVzc2FnZS5mb3J0O1xuICAgICAgICAgICAgdmFyIGJ1bGxldHMgPSBtZXNzYWdlLmJ1bGxldDtcbiAgICAgICAgICAgIHZhciByb2xsTG9ncyA9IG1lc3NhZ2Uucm9sbExvZztcblxuICAgICAgICAgICAgaWYoX3BhcmVudC5tYWluUGxheWVyID09IDIpIHtcbiAgICAgICAgICAgICAgICBhZ2VudHMgPSBfcGFyZW50Lm1pcnJvckFnZW50c0RhdGEoYWdlbnRzKTtcbiAgICAgICAgICAgICAgICBidWxsZXRzID0gX3BhcmVudC5taXJyb3JBZ2VudHNEYXRhKGJ1bGxldHMpO1xuICAgICAgICAgICAgICAgIGJhc2VzID0gX3BhcmVudC5taXJyb3JCYXNlc0RhdGEoYmFzZXMpO1xuICAgICAgICAgICAgICAgIGZvcnRzID0gX3BhcmVudC5taXJyb3JBZ2VudHNEYXRhKGZvcnRzKTtcbiAgICAgICAgICAgICAgICByb2xsTG9ncyA9IF9wYXJlbnQubWlycm9yQWdlbnRzRGF0YShyb2xsTG9ncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyYWNlRGF0YS5hZ2VudHMgPSBhZ2VudHM7XG4gICAgICAgICAgICB0cmFjZURhdGEuYnVsbGV0cyA9IGJ1bGxldHM7XG4gICAgICAgICAgICB0cmFjZURhdGEuYmFzZXMgPSBiYXNlcztcbiAgICAgICAgICAgIHRyYWNlRGF0YS5mb3J0cyA9IGZvcnRzO1xuICAgICAgICAgICAgdHJhY2VEYXRhLnJvbGxMb2dzID0gcm9sbExvZ3M7XG5cbiAgICAgICAgICAgIF9wYXJlbnQuZ2FtZVRyYWNlU3RhY2sucHVzaCh0cmFjZURhdGEpO1xuXG4gICAgICAgICAgICBpZihfcGFyZW50LmdhbWVUcmFjZVN0YWNrLmxlbmd0aCA+IF9wYXJlbnQuYnVmZmVyTGVuKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9wYXJlbnQuZ2FtZVRyYWNlU3RhY2tbMF07XG4gICAgICAgICAgICAgICAgX3BhcmVudC5jcmVhdGVBZ2VudHMoZGF0YS5hZ2VudHMpO1xuICAgICAgICAgICAgICAgIF9wYXJlbnQuY3JlYXRlQnVsbGV0cyhkYXRhLmJ1bGxldHMpO1xuICAgICAgICAgICAgICAgIF9wYXJlbnQuY3JlYXRlQmFzZXMoZGF0YS5iYXNlcyk7XG4gICAgICAgICAgICAgICAgX3BhcmVudC5jcmVhdGVGb3J0cyhkYXRhLmZvcnRzKTtcbiAgICAgICAgICAgICAgICBfcGFyZW50LmNyZWF0ZUxvZ3MoZGF0YS5yb2xsTG9ncyk7XG4gICAgICAgICAgICAgICAgLy9fcGFyZW50LnNldEFnZW50c0RpcihhZ2VudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuLypcbiAgICAgICAgTVlfU09DS0VULm9uKCdhZ2VudCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4vLyAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS1hZ2VudC0tLS0tLS0tLVwiKTtcbiAgICAgICAgICAgIHZhciB0cmFjZURhdGEgPSB7fTtcbiAgICAgICAgICAgIHZhciBhZ2VudHMgPSBkYXRhLmFnZW50cztcbiAgICAgICAgICAgIHZhciBiYXNlcyA9IGRhdGEuYmFzZXM7XG4gICAgICAgICAgICB2YXIgZm9ydHMgPSBkYXRhLmZvcnRzO1xuICAgICAgICAgICAgdmFyIGJ1bGxldHMgPSBkYXRhLmJ1bGxldHM7XG4gICAgICAgICAgICB2YXIgcm9sbExvZ3MgPSBkYXRhLnJvbGxMb2dzO1xuXG4gICAgICAgICAgICBpZihfcGFyZW50Lm1haW5QbGF5ZXIgPT0gMikge1xuICAgICAgICAgICAgICAgIGFnZW50cyA9IF9wYXJlbnQubWlycm9yQWdlbnRzRGF0YShhZ2VudHMpO1xuICAgICAgICAgICAgICAgIGJ1bGxldHMgPSBfcGFyZW50Lm1pcnJvckFnZW50c0RhdGEoYnVsbGV0cyk7XG4gICAgICAgICAgICAgICAgYmFzZXMgPSBfcGFyZW50Lm1pcnJvckJhc2VzRGF0YShiYXNlcyk7XG4gICAgICAgICAgICAgICAgZm9ydHMgPSBfcGFyZW50Lm1pcnJvckFnZW50c0RhdGEoZm9ydHMpO1xuICAgICAgICAgICAgICAgIHJvbGxMb2dzID0gX3BhcmVudC5taXJyb3JBZ2VudHNEYXRhKHJvbGxMb2dzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJhY2VEYXRhLmFnZW50cyA9IGFnZW50cztcbiAgICAgICAgICAgIHRyYWNlRGF0YS5idWxsZXRzID0gYnVsbGV0cztcbiAgICAgICAgICAgIHRyYWNlRGF0YS5iYXNlcyA9IGJhc2VzO1xuICAgICAgICAgICAgdHJhY2VEYXRhLmZvcnRzID0gZm9ydHM7XG4gICAgICAgICAgICB0cmFjZURhdGEucm9sbExvZ3MgPSByb2xsTG9ncztcblxuICAgICAgICAgICAgX3BhcmVudC5nYW1lVHJhY2VTdGFjay5wdXNoKHRyYWNlRGF0YSk7XG5cbiAgICAgICAgICAgIGlmKF9wYXJlbnQuZ2FtZVRyYWNlU3RhY2subGVuZ3RoID4gX3BhcmVudC5idWZmZXJMZW4pIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gX3BhcmVudC5nYW1lVHJhY2VTdGFja1swXTtcbiAgICAgICAgICAgICAgICBfcGFyZW50LmNyZWF0ZUFnZW50cyhkYXRhLmFnZW50cyk7XG4gICAgICAgICAgICAgICAgX3BhcmVudC5jcmVhdGVCdWxsZXRzKGRhdGEuYnVsbGV0cyk7XG4gICAgICAgICAgICAgICAgX3BhcmVudC5jcmVhdGVCYXNlcyhkYXRhLmJhc2VzKTtcbiAgICAgICAgICAgICAgICBfcGFyZW50LmNyZWF0ZUZvcnRzKGRhdGEuZm9ydHMpO1xuICAgICAgICAgICAgICAgIF9wYXJlbnQuY3JlYXRlTG9ncyhkYXRhLnJvbGxMb2dzKTtcbiAgICAgICAgICAgICAgICAvL19wYXJlbnQuc2V0QWdlbnRzRGlyKGFnZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuKi9cbiAgICAgICAgdGhpcy5zdGFydFRyYWNlVGltZXIoKTtcbiAgICB9LFxuXG4gICAgbWlycm9yQWdlbnRzRGF0YTpmdW5jdGlvbihhZ2VudHMpIHtcbiAgICAgICAgdmFyIGd3aWR0aCA9IHRoaXMubm9kZS53aWR0aC8zMDtcbiAgICAgICAgdmFyIGdoZWlnaHQgPSB0aGlzLm5vZGUuaGVpZ2h0LzMwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBhZ2VudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGFnZW50c1tpXS5teXBvcy54ID0gZ3dpZHRoIC0gYWdlbnRzW2ldLm15cG9zLng7XG4gICAgICAgICAgICBhZ2VudHNbaV0ubXlwb3MueSA9IGdoZWlnaHQgLSBhZ2VudHNbaV0ubXlwb3MueTtcblxuICAgICAgICAgICAgaWYoYWdlbnRzW2ldLmVuZW15cG9zKSB7XG4gICAgICAgICAgICAgICAgYWdlbnRzW2ldLmVuZW15cG9zLnggPSBnd2lkdGggLSBhZ2VudHNbaV0uZW5lbXlwb3MueDtcbiAgICAgICAgICAgICAgICBhZ2VudHNbaV0uZW5lbXlwb3MueSA9IGdoZWlnaHQgLSBhZ2VudHNbaV0uZW5lbXlwb3MueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9mb3IgZmlyZWJvbWIgdGhvc2Ugd2hpY2ggaGFzIG5vIHNwZWNpZmljIGVubWVpZXMsIGp1c3QgYSB0YXJnZXQgbG9jYXRpb24uXG4gICAgICAgICAgICBpZihhZ2VudHNbaV0udGFyZ2V0cG9zKSB7XG4gICAgICAgICAgICAgICAgYWdlbnRzW2ldLnRhcmdldHBvcy54ID0gZ3dpZHRoIC0gYWdlbnRzW2ldLnRhcmdldHBvcy54O1xuICAgICAgICAgICAgICAgIGFnZW50c1tpXS50YXJnZXRwb3MueSA9IGdoZWlnaHQgLSBhZ2VudHNbaV0udGFyZ2V0cG9zLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vYWdlbnRzW2ldLnJvdCArPSAxODA7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhZ2VudHM7XG4gICAgfSxcblxuICAgIG1pcnJvckJ1ZmZEYXRhOmZ1bmN0aW9uKGJ1ZmYpIHtcbiAgICAgICAgdmFyIGd3aWR0aCA9IHRoaXMubm9kZS53aWR0aC8zMDtcbiAgICAgICAgdmFyIGdoZWlnaHQgPSB0aGlzLm5vZGUuaGVpZ2h0LzMwO1xuXG4gICAgICAgIGJ1ZmYubXlwb3MueCA9IGd3aWR0aCAtIGJ1ZmYubXlwb3MueDtcbiAgICAgICAgYnVmZi5teXBvcy55ID0gZ2hlaWdodCAtIGJ1ZmYubXlwb3MueTtcblxuICAgICAgICByZXR1cm4gYnVmZjtcbiAgICB9LFxuXG4gICAgbWlycm9yQmFzZXNEYXRhOmZ1bmN0aW9uKGJhc2VzKSB7XG4gICAgICAgIHZhciBnd2lkdGggPSB0aGlzLm5vZGUud2lkdGgvMzA7XG4gICAgICAgIHZhciBnaGVpZ2h0ID0gdGhpcy5ub2RlLmhlaWdodC8zMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gYmFzZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmKGJhc2VzW2ldLm9iamVjdElkID09IDEpIHtcbiAgICAgICAgICAgICAgICBiYXNlc1tpXS5vYmplY3RJZCA9IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGJhc2VzW2ldLm9iamVjdElkID09IDIpIHtcbiAgICAgICAgICAgICAgICBiYXNlc1tpXS5vYmplY3RJZCA9IDY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGJhc2VzW2ldLm9iamVjdElkID09IDMpIHtcbiAgICAgICAgICAgICAgICBiYXNlc1tpXS5vYmplY3RJZCA9IDU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYoYmFzZXNbaV0ub2JqZWN0SWQgPT0gNCkge1xuICAgICAgICAgICAgICAgIGJhc2VzW2ldLm9iamVjdElkID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYmFzZXNbaV0ub2JqZWN0SWQgPT0gNikge1xuICAgICAgICAgICAgICAgIGJhc2VzW2ldLm9iamVjdElkID0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoYmFzZXNbaV0ub2JqZWN0SWQgPT0gNSkge1xuICAgICAgICAgICAgICAgIGJhc2VzW2ldLm9iamVjdElkID0gMztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9pbiBtaXJyb3IgbW9kZSwgeCwgeSBzaG91bGQgYmUgYWp1c3RlZC5cbiAgICAgICAgICAgIGJhc2VzW2ldLm15cG9zLnggPSBnd2lkdGggLSBiYXNlc1tpXS5teXBvcy54LTE7XG4gICAgICAgICAgICBiYXNlc1tpXS5teXBvcy55ID0gZ2hlaWdodCAtIGJhc2VzW2ldLm15cG9zLnk7XG5cbiAgICAgICAgICAgIGlmKGJhc2VzW2ldLmVuZW15cG9zKSB7XG4gICAgICAgICAgICAgICAgYmFzZXNbaV0uZW5lbXlwb3MueCA9IGd3aWR0aCAtIGJhc2VzW2ldLmVuZW15cG9zLngtMTtcbiAgICAgICAgICAgICAgICBiYXNlc1tpXS5lbmVteXBvcy55ID0gZ2hlaWdodCAtIGJhc2VzW2ldLmVuZW15cG9zLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vZm9yIGZpcmVib21iIHRob3NlIHdoaWNoIGhhcyBubyBzcGVjaWZpYyBlbm1laWVzLCBqdXN0IGEgdGFyZ2V0IGxvY2F0aW9uLlxuICAgICAgICAgICAgaWYoYmFzZXNbaV0udGFyZ2V0cG9zKSB7XG4gICAgICAgICAgICAgICAgYmFzZXNbaV0udGFyZ2V0cG9zLnggPSBnd2lkdGggLSBiYXNlc1tpXS50YXJnZXRwb3MueC0xO1xuICAgICAgICAgICAgICAgIGJhc2VzW2ldLnRhcmdldHBvcy55ID0gZ2hlaWdodCAtIGJhc2VzW2ldLnRhcmdldHBvcy55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYmFzZXM7XG4gICAgfSxcblxuICAgIGRpc2Nvbm5lY3RTZXJ2ZXI6ZnVuY3Rpb24oKSB7XG4gICAgICAgIE1ZX1NPQ0tFVC5kaXNjb25uZWN0KCk7ICAgICBcbiAgICB9LFxuXG59KTtcbiJdfQ==